<!DOCTYPE html><html lang="fr"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>üß† Pain Points Hunter</title><style>*{margin:0;padding:0;box-sizing:border-box}body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,sans-serif;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);min-height:100vh;padding:40px 20px}.container{max-width:900px;margin:0 auto;background:#fff;padding:50px;border-radius:30px;box-shadow:0 20px 60px rgba(0,0,0,.3)}h1{color:#667eea;text-align:center;font-size:42px;margin-bottom:10px;font-weight:700}.subtitle{text-align:center;color:#666;font-size:18px;margin-bottom:40px}.input-group{margin-bottom:30px}label{display:block;font-weight:600;color:#333;margin-bottom:10px;font-size:16px}input[type=url]{width:100%;padding:18px 20px;border:2px solid #e0e0e0;border-radius:15px;font-size:16px;transition:all .3s}input[type=url]:focus{outline:0;border-color:#667eea;box-shadow:0 0 0 4px rgba(102,126,234,.1)}.btn-primary{width:100%;padding:20px;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);color:#fff;border:none;border-radius:15px;font-size:20px;font-weight:700;cursor:pointer;transition:transform .2s,box-shadow .2s}.btn-primary:hover{transform:translateY(-2px);box-shadow:0 10px 30px rgba(102,126,234,.4)}.btn-primary:disabled{opacity:.6;cursor:not-allowed;transform:none}.spinner{display:none;text-align:center;margin:30px 0;font-size:18px;color:#667eea}.spinner.active{display:block}.spinner-icon{display:inline-block;width:40px;height:40px;border:4px solid #f3f3f3;border-top:4px solid #667eea;border-radius:50%;animation:spin 1s linear infinite;margin-bottom:15px}@keyframes spin{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}#results{display:none;margin-top:40px;padding:30px;background:#f8f9fa;border-radius:20px}#results.active{display:block}.results-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:25px}.results-title{font-size:28px;font-weight:700;color:#667eea}.btn-export{padding:12px 24px;background:#28a745;color:#fff;border:none;border-radius:10px;font-weight:600;cursor:pointer;transition:all .3s}.btn-export:hover{background:#218838;transform:translateY(-2px)}.lead-card{background:#fff;padding:20px;margin:15px 0;border-radius:15px;box-shadow:0 4px 12px rgba(0,0,0,.08);transition:transform .2s,box-shadow .2s}.lead-card:hover{transform:translateY(-3px);box-shadow:0 8px 20px rgba(0,0,0,.12)}.lead-username{font-size:20px;font-weight:700;color:#333;margin-bottom:8px}.lead-meta{color:#666;font-size:14px;margin-bottom:10px}.lead-link{color:#667eea;text-decoration:none;font-weight:600;transition:color .3s}.lead-link:hover{color:#764ba2;text-decoration:underline}.error-message{background:#f8d7da;color:#721c24;padding:15px 20px;border-radius:10px;margin:20px 0;border-left:4px solid #f5c6cb}</style></head><body><div class="container"><h1>üß† Pain Points Hunter</h1><p class="subtitle">Scanner Instagram pour trouver les comptes qui expriment ton pain point</p><div class="input-group"><label for="offerUrl">üîó URL de ton offre / page de vente</label><input type="url" id="offerUrl" placeholder="https://exemple.com/mon-offre" required></div><button class="btn-primary" onclick="runPipeline()" id="launchBtn">üöÄ Lancer la recherche</button><div class="spinner" id="spinner"><div class="spinner-icon"></div><div>‚è≥ Analyse en cours... Cela peut prendre quelques minutes</div></div><div id="results"><div class="results-header"><div class="results-title" id="resultsTitle"></div><button class="btn-export" onclick="exportCSV()">üíæ T√©l√©charger CSV</button></div><div id="leadsList"></div></div></div><script>async function runPipeline(){const url=document.getElementById('offerUrl').value.trim();if(!url){alert('‚ö†Ô∏è Entre une URL valide');return}document.getElementById('spinner').classList.add('active');document.getElementById('results').classList.remove('active');document.getElementById('launchBtn').disabled=true;try{const response=await fetch('/api/run_pipeline',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({offer_url:url})});const data=await response.json();if(data.success){showResults(data)}else{showError(data.error||'Une erreur est survenue')}}catch(error){showError('Erreur de connexion : '+error.message)}finally{document.getElementById('spinner').classList.remove('active');document.getElementById('launchBtn').disabled=false}}function showResults(data){document.getElementById('resultsTitle').textContent=`‚úÖ ${data.leads_count} leads trouv√©s`;const leadsList=document.getElementById('leadsList');leadsList.innerHTML=data.leads.map(lead=>`<div class="lead-card"><div class="lead-username">@${lead.username}</div><div class="lead-meta">üìç ${lead.source_type}</div><a href="${lead.source_post_url}" target="_blank" class="lead-link">üîó Voir le post source</a></div>`).join('');document.getElementById('results').classList.add('active')}function showError(message){const leadsList=document.getElementById('leadsList');leadsList.innerHTML=`<div class="error-message">‚ùå ${message}</div>`;document.getElementById('results').classList.add('active')}function exportCSV(){window.location.href='/api/export_csv'}</script></body></html>
